# üí° –ö–∞—Ç–∏—Ç ‚Äî –Ω–µ –∫–∞—Ç–∏—Ç. GitHub CI (—á–∞—Å—Ç—å 1)

## üó∫Ô∏è –ü–ª–∞–Ω

1. –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏
2. –í–≤–µ–¥–µ–Ω–∏–µ –≤ –≤–µ–±—Ö—É–∫–∏
3. –ü–æ–Ω—è—Ç–∏–µ CI/CD
4. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: GitHub Actions
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram
6. –ü—Ä–∞–∫—Ç–∏–∫–∞: –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞
7. –†–µ—Ñ–ª–µ–∫—Å–∏—è + –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

---

## üéØ –ó–∞–¥–∞—á–∞ –∑–∞–Ω—è—Ç–∏—è

* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–æ–∫** –ø—Ä–∏ –ø—É—à–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
* –ù–∞—É—á–∏—Ç—å—Å—è **–æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ** –ø–∞–π–ø–ª–∞–π–Ω–∞ –≤ Telegram.
* –†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –±–∞–∑–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö CI –Ω–∞ GitHub Actions.
* –°–¥–µ–ª–∞—Ç—å **–Ω–µ–±–æ–ª—å—à—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é**, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–æ—Å—Ç–∏—Ç –≤–∞—à—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.

---

## üîî –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–µ–±—Ö—É–∫–∏?

> –í–µ–±—Ö—É–∫–∏ ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± ¬´—Å–ª—É—à–∞—Ç—å¬ª —Å–æ–±—ã—Ç–∏—è –≤ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ –∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–∏—Ö –≤ –¥—Ä—É–≥–æ–º.
> –ö–æ–≥–¥–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç push –≤ GitHub, –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å.

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

* —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram/Slack;
* –∑–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏;
* –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π;
* –∞–≤—Ç–æ—Ç—Ä–∏–≥–≥–µ—Ä–∏–Ω–≥ –≤–Ω–µ—à–Ω–∏—Ö API.

---

## ü§ñ Telegram –∏ BotFather

–ß—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram:

1. –ù–∞–π–¥–∏—Ç–µ `@BotFather`, —Å–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –∏ –ø–æ–ª—É—á–∏—Ç–µ **—Ç–æ–∫–µ–Ω**.
2. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É.
3. –ü–æ–ª—É—á–∏—Ç–µ `chat_id` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ curl-–∑–∞–ø—Ä–æ—Å –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–æ—Ç—ã –≤—Ä–æ–¥–µ `userinfobot`).

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏—è

```bash
curl --request POST \
  --url https://api.telegram.org/bot${TOKEN}/sendMessage \
  --header 'Content-Type: application/json' \
  --data '{
    "chat_id": "${CHAT_ID}",
    "text": "‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ!"
}'
```

[–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ telegram](../docs/telegram.md)

---

## üîÅ CI/CD ‚Äî –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É

CI/CD (Continuous Integration / Continuous Delivery):

* **CI** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ.
* **CD** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ (–∏–ª–∏ –¥–µ–ø–ª–æ–π) –¥–æ –∫–æ–Ω–µ—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–ü–ª—é—Å—ã:

* –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞.
* –ú–µ–Ω—å—à–µ –±–∞–≥–æ–≤ –≤ –ø—Ä–æ–¥–µ.
* –ß–µ—Ç–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–ø—É—Å–∫–∞ —Ñ–∏—á.

---

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã CI

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã:

* Jenkins
* TeamCity
* GitLab CI
* Travis CI
* CircleCI
* **GitHub Actions** (—Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –≥–µ—Ä–æ–π)

---

## ‚öôÔ∏è GitHub Actions: –±–∞–∑–æ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è

GitHub Actions ‚Äî CI/CD –≤–Ω—É—Ç—Ä–∏ GitHub, –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

* **Workflow** ‚Äî –Ω–∞–±–æ—Ä –∑–∞–¥–∞—á (job), –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤ `.yml` —Ñ–∞–π–ª–µ (`.github/workflows/`).
* **Event** ‚Äî —Ç—Ä–∏–≥–≥–µ—Ä: `push`, `pull_request`, `schedule` –∏ —Ç.–¥.
* **Job** ‚Äî –Ω–∞–±–æ—Ä —à–∞–≥–æ–≤ (steps), –≤—ã–ø–æ–ª–Ω—è—é—â–∏—Ö—Å—è –Ω–∞ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ.
* **Step** ‚Äî –ª–∏–±–æ –∫–æ–º–∞–Ω–¥–∞ shell, –ª–∏–±–æ `action`.
* **Runner** ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞, –≥–¥–µ –≤—Å—ë –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è.
* **Action** ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –∑–∞–¥–∞—á–∞ (–º–æ–∂–Ω–æ –≤–∑—è—Ç—å —Å GitHub Marketplace –∏–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ—é).

---

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ workflow

```yml
# .github/workflows/test.yml
name: test
on: [push]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 22.14.0 # –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é nodejs LTS
          cache: 'npm'
      - run: npm ci # —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
      - run: npm run test:ci # –∑–∞–ø—É—Å—Ç–∏–ª–∏ —Ç–µ—Å—Ç—ã
```

---

## üì¶ YAML ‚Äî –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –∫–æ–Ω—Ñ–∏–≥

> YAML ‚Äî —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –û—Ç—Å—Ç—É–ø—ã –≤–∞–∂–Ω—ã!

–ö—Ä–∞—Ç–∫–æ:

* `key: value`
* –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –æ—Ç—Å—Ç—É–ø
* —Å–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ `- item`
* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ GitHub Actions, Docker Compose, Kubernetes –∏ –¥—Ä.

---

## üß™ –ü—Ä–∞–∫—Ç–∏–∫–∞: –ø—É–±–ª–∏–∫—É–µ–º –æ—Ç—á—ë—Ç –Ω–∞ GitHub Pages

### –¶–µ–ª—å:

* –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç—á—ë—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ (`allure`, `playwright`, `jest-html`) –Ω–∞ GitHub Pages.

### –í–∞—Ä–∏–∞–Ω—Ç—ã:

1. **–†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π** —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—É—é —Å–±–æ—Ä–∫—É –∏ `gh-pages` –ø–∞–∫–µ—Ç:

    * [npmjs.com/package/gh-pages](https://www.npmjs.com/package/gh-pages)

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** —á–µ—Ä–µ–∑ GitHub Actions:

    * –ò—Å–ø–æ–ª—å–∑—É–µ–º actions/upload-pages-artifact + actions/deploy-pages

# –ü–æ–π–¥—ë–º –ø–æ –≤—Ç–æ—Ä–æ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É.

–ß—Ç–æ–±—ã –≤—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –∑–∞—Ä–∞–±–æ—Ç–∞–ª, –Ω—É–∂–Ω–æ –≤ —Ä–µ–ø–æ—Ä–∏–∑–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å github pages –Ω–∞ github actions

[–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.github.com/en/actions/concepts/use-cases/deploying-with-github-actions)


1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (`Settings`)
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ github pages (`Pages`)
3. `Build and deployment` -> `Source` -> –í—ã–±—Ä–∞—Ç—å `Github Actions`

–í–∞–∂–Ω–æ! –ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é –ø—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ github pages —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑ –≥–ª–∞–≤–Ω–æ–π –≤–µ—Ç–∫–∏. `master / main` –æ–±—ã—á–Ω–æ
–ß—Ç–æ–±—ã –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–ª–∞ –∏–∑ –ª—é–±–æ–π –≤–µ—Ç–∫–∏:
`Settins` -> `Environments` -> `github-pages` -> Deployment branches and tags -> –í—ã–±—Ä–∞—Ç—å `No restiction`

–ü—Ä–∏–º–µ—Ä –¥–∂–æ–±—ã —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –æ—Ç—á—ë—Ç–∞ –Ω–∞ github pages

```yml
  test:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}

    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 22.14
          cache: 'npm'
      - run: npm ci
      - run: npm test
      - run: echo "${{vars.ENV_FILE}}" >> .env
      - name: Setup Pages
        uses: actions/configure-pages@v4
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: 'reports/my-report' # –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π –ø—É—Ç—å –∫ –æ—Ç—á—ë—Ç—É
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

–ü—Ä–∏–º–µ—Ä –¥–∂–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ `telegram`

```yml
 notification:
    if: always()
    needs: [ codestyle, test ]

    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}

    runs-on: ubuntu-latest
    steps:
      - run: |
          curl --request POST \
               --url https://api.telegram.org/bot${{secrets.TEST_TELEGRAM_TOKEN}}/sendMessage \
               --header 'Content-Type: application/json' \
                --data '{ "chat_id": "${{secrets.TEST_TELEGRAM_CHAT_ID}}", "text": "Report link: https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}" }'
```

–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–∏–º–µ—Ä `CI` –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –∫–æ–¥–æ–º](https://github.com/OTUS-QA-JS/otus-qajs/blob/lesson/ci1/.github/workflows/ci.yml).

---

## üìö –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

* [Understanding GitHub Actions ‚Äî GitHub Docs](https://docs.github.com/en/actions/learn-github-actions)
* [CI/CD ‚Äî –•–∞–±—Ä](https://habr.com/ru/articles/448980/)
* [–ë–æ—Ç—ã –≤ Telegram ‚Äî Yandex](https://yandex.ru/turbo/tproger.ru/s/articles/telegram-bot/)
* [YAML –∑–∞ 5 –º–∏–Ω—É—Ç ‚Äî Tproger](https://tproger.ru/translations/yaml-cheatsheet/)
* [Structuring GitHub Actions Safely ‚Äî gitconnected](https://levelup.gitconnected.com/structuring-github-actions-safely-24260f74bfc1)

---

## üí¨ –†–µ—Ñ–ª–µ–∫—Å–∏—è

* –ö–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–≤–æ—ë–º –ø—Ä–æ–µ–∫—Ç–µ?

---

## üîö –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

CI ‚Äî —ç—Ç–æ **–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∞ –Ω–µ —Ü–µ–ª—å**. –î–∞–∂–µ –ø—Ä–æ—Å—Ç–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ–≤—ã—à–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –≤—Ä–µ–º—è –Ω–∞ –≤–∞–∂–Ω–æ–µ.

–í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ:

* –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CI –≤ gitlab
* —Ä–∞–±–æ—Ç–∞ —Å gitlab docker registry 
* —Ä–∞–±–æ—Ç–∞ —Å docker –≤ CI