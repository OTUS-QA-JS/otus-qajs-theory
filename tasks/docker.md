# Тесты в контейнере: запуск и обёртка в Docker

## Цель
Отработка на практике запуск тестов в контейнере и работа с Docker

## Задание
1. создайте `Dockerfile` в корне проекта
С таким содержимым:
```dockerfile
# Вместо node:22.14.0, укажите актуальную версию node lts. https://nodejs.org/en/about/previous-releases#looking-for-the-latest-release-of-a-version-branch
FROM node:22.14.0

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем файлы package.json и package-lock.json внутрь контейнера
COPY package.json package-lock.json ./

# Устанавливаем зависимости проекта
RUN npm ci

# Копируем все остальные файлы проекта внутрь контейнера
COPY . .

# В докере для улучшения кэширования рекомендуется сначала копировать файлы
# package.json и package-lock.json, а затем выполнять
# установку зависимостей и копировать остальные файлы проекта

# Опционально: можно добавить команду, которая будет запускаться при старте контейнера
# CMD ["npm", "start"]
```

Содержимое можно настроить под себя. 
Например, использовать другой базовый образ или заменить `npm` на `yarn` или `pnpm`

2. Создайте файл `.dockerignore` в корне проекта
С таким содержимым:
```dockerignore
node_modules
.idea
reports
coverage
```
Содержимое можно настроить под себя, укажите какие файлы / папки нужно игнорировать docker при сборке контейнера

3. Запустите `docker build` командой `docker build -t otus-qajs .`
4. Запустите тесты четырьмя способами:
```bash
# 1
npm test

# 2
docker run otus-qajs sh -c "npm test"

# 3
docker run otus-qajs --memory=1G --cpus=2 sh -c "NODE_OPTIONS=\"--max-old-space-size=1024\" npm test"
```

5. В чате поделитесь своими результатами. Сколько времени тесты проходили при разном способе запуска

---
## Критерии оценивания
* в чат отправлены результаты тестов
* корректно запускаются тесты в Docker
* `Dockerfile` и `.dockerignore` созданы
